通过 $O(n\log(n))$ 预处理，可以做到 $O(1)$ 查询 LCA。
最为传统的倍增求LCA,还有一种树链剖分求法。